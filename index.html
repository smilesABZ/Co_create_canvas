<!-- FILENAME: index.html - VERSION: v1 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Co-Creation Canvas</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
    .icon-button {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.5rem;
      border-radius: 0.375rem;
      transition: background-color 0.2s;
    }
    .icon-button:hover {
      background-color: #e5e7eb; /* gray-200 */
    }
    .icon-button.active {
      background-color: #d1d5db; /* gray-300 */
      box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    }
    .color-swatch {
      width: 1.5rem;
      height: 1.5rem;
      border-radius: 50%;
      cursor: pointer;
      border: 2px solid transparent;
    }
    .color-swatch.active {
      border-color: #3b82f6; /* blue-500 */
    }
    .draggable-header {
        cursor: move;
    }
  </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.1.0/",
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/client": "https://esm.sh/react-dom@^19.1.0/client",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/",
    "@google/genai": "https://esm.sh/@google/genai@^1.1.0"
  }
}
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@latest/dist/mermaid.min.js"></script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  <script type="module">
    // Initialize Mermaid
    if (window.mermaid) {
      window.mermaid.initialize({ 
        startOnLoad: false,
        securityLevel: 'loose', // Consider 'strict' or 'antiscript' if only rendering known safe diagrams
        theme: 'default', 
        // For better rendering in our context, especially for SVG conversion:
        flowchart: { useMaxWidth: false }, // Important for consistent SVG output size
        sequence: { useMaxWidth: false },
        gantt: { useMaxWidth: false }
      });
    } else {
      console.error("Mermaid library not loaded.");
    }
  </script>
  <script type="module" src="./index.tsx"></script>
<script type="module" src="/index.tsx"></script>
</body>
</html>